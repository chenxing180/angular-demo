<!doctype html>
<html>
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="zh-cn" />
    <script src="../lib/bower_components/angular/angular.min.js"></script>
    <script src="../lib/bower_components/angular-route/angular-route.min.js"></script>
</head>
<body>
   <h2>路由视图切换</h2>
   <div ng-app="mainApp">

      <p><a href="addStudent">cxx</a></p>
      <p><a href="viewStudents">View Students</a></p>
      <div ng-view></div>

<!--ng-template使用SCRIPT相当于一个html视图标签，属性ID连接到路由，相当于另外写两个html文档
      <script type="text/ng-template" id="addStudent.html">
         <h2> Add Student </h2>
         {{message}}
      </script>

      <script type="text/ng-template" id="viewStudents.html">
         <h2> View Students </h2>	    
         {{message}}
      </script>	-->
   </div>


   <script>
      var mainApp = angular.module("mainApp", ['ngRoute']);
      
      mainApp.config(['$routeProvider','$locationProvider', function($routeProvider,$locationProvider) {
            
            $routeProvider
               .when('/addStudent', {
                  templateUrl: 'a.html',
                  controller: 'AddStudentController',
                  resolve: {
                  delay: function($q, $timeout) {
                    var delay = $q.defer();
                    $timeout(delay.resolve, 3000);
                    return delay.promise;
                        }
                  }
               })
               .when('/viewStudents', {
                  templateUrl: 'b.html',
                  controller: 'ViewStudentsController'
               });
               $locationProvider.html5Mode({
                  enabled: true,
                  requireBase: false
            });
            /*   .otherwise({
                  redirectTo: '/addStudent'
               });*/
         }]);

         mainApp.controller('AddStudentController', function($scope) {
            $scope.message = "This page will be used to display add student form";
         });

         mainApp.controller('ViewStudentsController', function($scope) {
            $scope.message = "This page will be used to display all the students";
         });
   </script>

</body>
</html>